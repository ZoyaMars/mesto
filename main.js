(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function e(t,n){var r=t.items,o=t.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._containerSelector=n,this._container=document.querySelector(".".concat(this._containerSelector))}var n,r;return n=e,r=[{key:"addItem",value:function(t){this._container.prepend(this._renderer(t))}},{key:"renderAllInitialItems",value:function(){var t=this;this._items.forEach((function(e){t.addItem(e)}))}}],r&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=function(){function t(e,n,o,i,a,c){var u=this,s=e.item;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,"_like",(function(){u._hasMyLikes(u._item.likes)?u._api.deleteLike(u._item).then((function(t){u._likes.textContent=u._item.likes.length-1,u._likeButton.classList.remove("button__like_active"),u._item.likes=t.likes})).catch((function(t){console.log(t)})):u._api.setLike(u._item).then((function(t){u._likes.textContent=t.likes.length,u._likeButton.classList.add("button__like_active"),u._item.likes=t.likes}))})),r(this,"_openPopup",(function(){u._openDeletePopup(u)})),r(this,"removeImage",(function(){u._element.remove()})),r(this,"_handleImageClick",(function(){u._openPopupImage({name:u._name,link:u._link})})),this._item=s,this._name=s.name,this._link=s.link,this._numberLikes=s.likes.length,this._myId=i,this._cardSelector=n,this._openPopupImage=o,this._openDeletePopup=a,this._api=c}var e,o;return e=t,(o=[{key:"_getTemplate",value:function(){return this._cardSelector.cloneNode(!0)}},{key:"_setEventListeners",value:function(){this._likeButton.addEventListener("click",this._like),this._element.querySelector(".card__button_remove").addEventListener("click",this._openPopup),this._element.querySelector(".button__card").addEventListener("click",this._handleImageClick)}},{key:"_activeRemoveButton",value:function(){this._item.owner._id===this._myId&&this._element.querySelector(".card__button_remove").classList.add("card__button_remove-active")}},{key:"_hasMyLikes",value:function(){var t=this;return this._item.likes.some((function(e){return e._id===t._myId}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".card__image"),this._likes=this._element.querySelector(".card__like-item"),this._likeButton=this._element.querySelector(".button__like"),this._setEventListeners(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._element.querySelector(".card__name").textContent=this._name,this._likes.textContent=this._numberLikes,this._hasMyLikes(this._item.likes)&&this._likeButton.classList.add("button__like_active"),this._activeRemoveButton(),this._element}}])&&n(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(e,n){var r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(){i._inputList.forEach((function(t){i._hideInputError(t)})),i._toggleButtonState()},(r="resetValidation")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=n,this._buttonSubmit=n.querySelector(e.submitButtonSelector)}var e,n;return e=t,(n=[{key:"_showInputError",value:function(t,e){var n=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(this._inputErrorClass),n.textContent=e,n.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),e.textContent="",e.classList.remove(this._errorClass)}},{key:"_checkInputValidity",value:function(t){var e=t.validationMessage;t.validity.valid?this._hideInputError(t):this._showInputError(t,e)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?this.disableSubmitButton():this.activateSubmitButton()}},{key:"_setEventListener",value:function(){var t=this;this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"activateSubmitButton",value:function(){this._buttonSubmit.disabled=!1,this._buttonSubmit.classList.remove(this._inactiveButtonClass)}},{key:"disableSubmitButton",value:function(){this._buttonSubmit.disabled=!0,this._buttonSubmit.classList.add(this._inactiveButtonClass)}},{key:"enableValidation",value:function(){this._setEventListener()}}])&&i(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"_handleEscClose",(function(t){"Escape"===t.key&&r.close()})),u(this,"_handleCLoseBtnClick",(function(){r.close()})),u(this,"_handleCLoseOverlayClick",(function(t){t.target===t.currentTarget&&r.close()})),this._popupSelector=e,this._activeModifier=n.activeModifier,this._closeBtnSelector=n.closeBtnSelector,this._popup=document.querySelector(".".concat(this._popupSelector)),this._closeBtn=this._popup.querySelector(".".concat(this._closeBtnSelector))}var e,n;return e=t,(n=[{key:"setEventListeners",value:function(){this._popup.addEventListener("mousedown",this._handleCLoseOverlayClick),this._closeBtn.addEventListener("click",this._handleCLoseBtnClick)}},{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add(this._activeModifier)}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove(this._activeModifier)}}])&&c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function _(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=m(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},y.apply(this,arguments)}function m(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(r);if(o){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _(this,t)});function a(t,e,n,r,o,c){var u,s,l=r.inputSelector,p=r.submitBtnSelector,h=r.formSelector,_=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return f(this,a),v(d(s=i.call(this,t,n)),"_handleSubmit",(function(t){t.preventDefault(),s._submitBtn.textContent="Сохранение...",s._submitBtn.disabled=!0,s._submitCallBack(s._getInputValues())})),v(d(s),"open",(function(){s._getterCallBack?s._setInputValues(s._getterCallBack()):s._formElement.reset(),s._errorsResetCallBack(),"popup_type_add-image"===s._popupSelector?s._submitBtn.textContent="Создать":s._submitBtn.textContent="Сохранить",y((u=d(s),b(a.prototype)),"open",u).call(u)})),s._formName=e,s._submitCallBack=c,s._inputSelector=l,s._submitBtnSelector=p,s._getterCallBack=_,s._formSelector=h,s._formElement=document.forms[s._formName],s._inputs=Array.from(s._formElement.querySelectorAll(".".concat(s._inputSelector))),s._submitBtn=s._formElement.querySelector(".".concat(s._submitBtnSelector)),s._errorsResetCallBack=o,s}return e=a,(n=[{key:"_getInputValues",value:function(){var t={};return this._inputs.forEach((function(e){t[e.id.slice(6)]=e.value})),t}},{key:"_setInputValues",value:function(t){this._inputs.forEach((function(e){e.value=t[e.id.slice(6)]}))}},{key:"setEventListeners",value:function(){y(b(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",this._handleSubmit)}},{key:"close",value:function(){y(b(a.prototype),"close",this).call(this),this._formElement.reset()}}])&&p(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(s);function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var S=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._options=e,this._baseUrl=this._options.baseUrl,this._authorization=this._options.headers.authorization}var e,n;return e=t,(n=[{key:"_checkAnswer",value:function(t){return t.ok?t.json():Promise.reject("Ошибка ".concat(t.status,": ").concat(t.statusText))}},{key:"getInitialCards",value:function(){var t=this;return fetch("".concat(this._baseUrl,"/cards"),{headers:{authorization:this._authorization}}).then((function(e){return t._checkAnswer(e)}))}},{key:"getUserInfo",value:function(){var t=this;return fetch("".concat(this._baseUrl,"/users/me"),{headers:{authorization:this._authorization}}).then((function(e){return t._checkAnswer(e)}))}},{key:"patchUserInfo",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:this._authorization,"Content-Type":"application/json"},body:JSON.stringify({name:t.title,about:t.job})}).then((function(t){return e._checkAnswer(t)}))}},{key:"patchAvatarInfo",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._authorization,"Content-Type":"application/json"},body:JSON.stringify({avatar:t.avatar})}).then((function(t){return e._checkAnswer(t)}))}},{key:"addNewCard",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:{authorization:this._authorization,"Content-Type":"application/json"},body:JSON.stringify({name:t.name,link:t.link})}).then((function(t){return e._checkAnswer(t)}))}},{key:"deleteCard",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:{authorization:this._authorization}}).then((function(t){return e._checkAnswer(t)}))}},{key:"setLike",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/cards/").concat(t._id,"/likes"),{method:"PUT",headers:{authorization:this._authorization}}).then((function(t){return e._checkAnswer(t)}))}},{key:"deleteLike",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/cards/").concat(t._id,"/likes"),{method:"DELETE",headers:{authorization:this._authorization}}).then((function(t){return e._checkAnswer(t)}))}}])&&g(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e,n){return e&&w(t.prototype,e),n&&w(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=E((function t(e){var n=this,r=e.titleSelector,o=e.jobSelector,i=e.avatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),C(this,"setUserInfo",(function(t){n._titleElement.textContent=t.title||"",n._jobElement.textContent=t.job||""})),C(this,"setUserAvatar",(function(t){n._avatarElement.src=t.avatar})),C(this,"getUserInfo",(function(){return{title:n._titleElement.textContent,job:n._jobElement.textContent}})),this._titleSelector=r,this._jobSelector=o,this._titleElement=document.querySelector(".".concat(this._titleSelector)),this._jobElement=document.querySelector(".".concat(this._jobSelector)),this._avatarElement=document.querySelector(".".concat(i))}));function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=B(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},L.apply(this,arguments)}function B(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}function R(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=T(r);if(o){var n=T(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return R(this,t)});function a(t,e,n){var r,o=n.imageSelector,c=n.captionSelector;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,t,e))._imageSelector=o,r._captionSelector=c,r._imageElement=document.querySelector(".".concat(r._imageSelector)),r._captionElement=document.querySelector(".".concat(r._captionSelector)),r}return e=a,(n=[{key:"open",value:function(t){var e=t.name,n=t.link;this._imageElement.src=n,this._imageElement.alt=e,this._captionElement.textContent=e,L(T(a.prototype),"open",this).call(this)}}])&&P(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(s);function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=z(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},x.apply(this,arguments)}function z(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=M(t)););return t}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}function V(t,e){if(e&&("object"===U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=M(r);if(o){var n=M(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function a(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(o=i.call(this,t,e))._confirmationButton=o._popup.querySelector(".".concat(n)),o._api=r,o}return e=a,(n=[{key:"removeCard",value:function(t){this._api.deleteCard(t._item._id).then((function(){t.removeImage()})).catch((function(t){console.log(t)})),this.close()}},{key:"setEventListeners",value:function(t){var e=this;x(M(a.prototype),"setEventListeners",this).call(this),this.removeCardCallback=function(){e.removeCard(t)},this._confirmationButton.addEventListener("click",this.removeCardCallback)}},{key:"close",value:function(){this._confirmationButton.removeEventListener("click",this.removeCardCallback),x(M(a.prototype),"close",this).call(this)}}])&&A(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(s),J=document.querySelector(".profile__edit-button"),H=document.querySelector(".profile__avatar-button"),F=document.querySelector(".profile__add-button"),G=document.getElementById("cards").content.querySelector(".card"),K={formSelector:".popup__form",inputSelector:".popup__field",submitButtonSelector:".popup__button-save",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Q={},W={inputSelector:"popup__field",submitBtnSelector:"popup__button-save",formSelector:"form"},X={activeModifier:"popup_active",closeBtnSelector:"popup__button-close"},Y="elements__table",Z=new S({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-54",headers:{authorization:"8d3c6a15-ceca-43f0-a891-5377cbbfaafe","Content-Type":"application/json"}});Z.getUserInfo().then((function(t){$.setUserInfo({title:t.name,job:t.about}),$.setUserAvatar({avatar:t.avatar})})).catch((function(t){console.log(t)}));var $=new O({titleSelector:"profile__name",jobSelector:"profile__description",avatarSelector:"profile__avatar"}),tt=function(t){at.setEventListeners(t),at.open()},et=function(t){return new o({item:t},G,nt.open.bind(nt),"59d05da5ea81d432f473a759",tt,Z).generateCard()};Z.getInitialCards().then((function(t){new e({items:t.reverse(),renderer:et},Y).renderAllInitialItems()})).catch((function(t){console.log(t)})),Array.from(document.forms).forEach((function(t){Q[t.name]=new a(K,t),Q[t.name].enableValidation()}));var nt=new q("popup_big_image",X,{imageSelector:"popup__image",captionSelector:"popup__text"});nt.setEventListeners();var rt=new k("popup_add-card","add-image",X,W,Q["add-image"].resetValidation,(function(t){Z.addNewCard(t).then((function(t){new e({items:t,renderer:et},Y).addItem(t),rt.close()})).catch((function(t){console.log(t)}))}));rt.setEventListeners();var ot=new k("popup_edit-profile","profileData",X,W,Q.profileData.resetValidation,(function(t){Z.patchUserInfo(t).then((function(t){$.setUserInfo({title:t.name,job:t.about}),ot.close()})).catch((function(t){console.log(t)}))}),$.getUserInfo);ot.setEventListeners();var it=new k("popup_edit-avatar","avatar",X,W,Q.avatar.resetValidation,(function(t){Z.patchAvatarInfo(t).then((function(t){$.setUserAvatar({avatar:t.avatar}),it.close()})).catch((function(t){console.log(t)}))})),at=new N("popup_image_delete",X,"popup__button_image_delete",Z);J.addEventListener("click",(function(){ot.open()})),H.addEventListener("click",(function(){it.open()})),F.addEventListener("click",(function(){rt.open()})),it.setEventListeners()})();